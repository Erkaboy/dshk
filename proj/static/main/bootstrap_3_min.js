function create_popup_genplan(a){var t="",i=new FormData;i.append("csrfmiddlewaretoken",document.getElementsByName("csrfmiddlewaretoken")[0].value),i.append("id",a.id),i.append("status",a.status),i.append("type","orginal"),$.ajax({url:"/genplan_dialog_view",data:i,cache:!1,contentType:!1,processData:!1,type:"post",success:function(i){var d=i[0].json,n=i[0].sessia;if(0!=d.length&&""!=d[0].layer_name){map.removeLayer(genplan);for(var e=0;e<50;e++)map.hasLayer(genplan_geotiff[e])&&map.removeLayer(genplan_geotiff[e]);for(var e in genplan_geotiff[d[0].zindex]=L.tileLayer.wms("/geocache",{opacity:.9,layers:"dshk:"+d[0].layer_name,format:"image/png",zIndex:d[0].zindex,maxZoom:20,transparent:!0}).addTo(map),t+='<input type="checkbox" class="checkbox_geotiff_genplan" data-layer_name="'+d[0].layer_name+'" checked id="checkbox_geotiff_'+d[0].layer_name+'" data-layer_id="'+d[0].zindex+'" />',t+="<label for='checkbox_geotiff_"+d[0].layer_name+"' >"+d[0].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_genplan' data-layer_id='"+d[0].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[0].data)t+='<li data-magnify="gallery" data-caption="'+d[0].data[e].nomi+'"  href="'+d[0].data[e].file_name+'">'+d[0].data[e].nomi+"</li>";t+="</ul>"}else t+="<input type='range' min=0 max=10 value=8 class='change_opacity_genplan'><br>";e=0;for(var l in d)""!=d[l].layer_name&&0!=l&&e++;for(var l in e>0&&(t+="<div data-status='0' class='open_close_secret_div_genplan open_close_secret_div'>Дополнительные слои <span id='span_open_close_genplan' > &#9660</span></div><div style='display:none' id='secret_div_genplan'>"),d)if(0!=l&&""!=d[l].layer_name){for(var e in t+='<input type="checkbox" class="checkbox_geotiff_genplan" data-layer_name="'+d[l].layer_name+'" id="checkbox_geotiff_'+d[l].layer_name+'" data-layer_id="'+d[l].zindex+'" />',t+="<label for='checkbox_geotiff_"+d[l].layer_name+"' >"+d[l].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_genplan' data-layer_id='"+d[l].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[l].data)t+='<li data-magnify="gallery" data-caption="'+d[l].data[e].nomi+'"  href="'+d[l].data[e].file_name+'">'+d[l].data[e].nomi+"</li>";t+="</ul>"}for(var l in t+="</div>","genplan"==n.service&&"1"==n.status&&("0"==a.status&&(t+="<button class='btn mybtn btn-info button_edit_genplan' data-status='"+a.status+"' data-genplan_id='"+a.id+"'>O'zgartirish</button>",t+="<button class='btn mybtn btn-danger button_delete_genplan' data-status='"+a.status+"' data-genplan_id='"+a.id+"'>O'chirish</button>"),"2"==a.status&&(t+="<button class='btn mybtn btn-info button_edit_genplan' data-status='"+a.status+"' data-genplan_id='"+a.id+"'>O'zgartirish</button>"),"3"==a.status&&(t+="<p class='p_dialog_alert' >O'chirishga berilgan</p>")),t+="<hr class='hr_popup' /><br>",t+='<table class = "table table-bordered table-striped"  style = "font-size:15px; overflow-x: hidden !important;" >  <tbody>    <tr><td>Aholi punktining nomi</td><td>'+a.aholi_punktining_nomi+"</td></tr>         <tr><td>Respublika, viloyat</td><td>"+viloyat[parseInt(a.respublika_viloyat)-1].disUz+"</td></tr>    <tr><td>Tuman shahar</td><td>"+a.tuman_shahar+"</td></tr>    <tr><td>Mamuriy hududiy birliklarni belgilash tizimi kodi</td><td>"+a.mamuriy_hududiy_birliklarni_belgilash_tizimi_kodi+"</td></tr>    <tr><td>Aholi punktining tipi</td><td>"+a.aholi_punktining_tipi+"</td></tr>     <tr><td>Aholi punktining maqomi</td><td>"+a.aholi_punktining_maqomi+"</td></tr>     <tr><td>Loyihalash tashkiloti shahar chegarasi loyihasini ishlab chiquv</td><td>"+a.loyihalash_tashkiloti_shahar_chegarasi_loyihasini_ishlab_chiquv+"</td></tr>     <tr><td>Ishlab chiqalgan yili</td><td>"+a.ishlab_chiqalgan_yili+"</td></tr>     <tr><td>Shahar chegarasi loyihasi hujjatlari saqlandigan joy</td><td>"+a.shahar_chegarasi_loyihasi_hujjatlari_saqlandigan_joy+"</td></tr>","1"==a.tasdiqlanganligi&&(t+="<tr><td>Shahar chegarasi loyihasini tasdiqlangan organ</td><td>"+a.shahar_chegarasi_loyihasini_tasdiqlangan_organ+"</td></tr>      <tr><td>Shahar chegarasi loyiha tasdiqlash tugrisidagi hujjat raqam san</td><td>"+a.shahar_chegarasi_loyiha_tasdiqlash_tugrisidagi_hujjat_raqam_san+"</td></tr>"),t+="<tr><td>Aholi punktining loyihaviy maydoni ga</td><td>"+a.aholi_punktining_loyihaviy_maydoni_ga+"</td></tr>     <tr><td>Aholining loyihaviy soni</td><td>"+a.aholining_loyihaviy_soni+"</td></tr>",d)""!=d[l].pdf&&(t+="<tr><td>"+d[l].sub_name+'</td><td><a class="button_pdf_viewer" data-filename="'+myencode(d[l].pdf)+'" >Открыть PDF</a></td></tr>');"-1"!=n.status&&(""!=a.grafik_malumot&&(t+="<tr><td>Grafik ma'lumotlar</td><td><p  data-filename='"+myencode(a.grafik_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),""!=a.izohlovchi_malumot&&(t+="<tr><td>Izohlovchi ma'lumot</td><td><p  data-filename='"+myencode(a.izohlovchi_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>")),t+="</tbody></table>",$("#popup_dialog_genplan").html(t),$("#popup_dialog_genplan").dialog("open"),document.getElementById("popup_dialog_genplan").scrollTop=0},error:function(){console.log("Ajaxda xatolik")}})}function create_popup_genplan_edit(a){var t="",i=new FormData;i.append("csrfmiddlewaretoken",document.getElementsByName("csrfmiddlewaretoken")[0].value),i.append("type","edit"),i.append("id",a.id),i.append("status",a.status),$.ajax({url:"/genplan_dialog_view",data:i,cache:!1,contentType:!1,processData:!1,type:"post",success:function(i){var d=i[0].json,n=i[0].sessia;if(0!=d.length&&""!=d[0].layer_name){map.removeLayer(genplan_edit);for(var e=0;e<50;e++)map.hasLayer(genplan_edit_geotiff[e])&&map.removeLayer(genplan_edit_geotiff[e]);for(var e in genplan_edit_geotiff[d[0].zindex]=L.tileLayer.wms("/geocache",{opacity:.9,layers:"dshk:"+d[0].layer_name,format:"image/png",zIndex:d[0].zindex,maxZoom:20,transparent:!0}).addTo(map),t+='<input type="checkbox" class="checkbox_geotiff_genplan_edit" data-layer_name="'+d[0].layer_name+'" checked id="checkbox_geotiff_edit_'+d[0].layer_name+'" data-layer_id="'+d[0].zindex+'" />',t+="<label for='checkbox_geotiff_edit_"+d[0].layer_name+"' >"+d[0].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_genplan_edit' data-layer_id='"+d[0].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[0].data)t+='<li data-magnify="gallery" data-caption="'+d[0].data[e].nomi+'"  href="'+d[0].data[e].file_name+'">'+d[0].data[e].nomi+"</li>";t+="</ul>"}else t+="<input type='range' min=0 max=10 value=8 class='change_opacity_genplan_edit'><br>";e=0;for(var l in d)""!=d[l].layer_name&&0!=l&&e++;for(var l in e>0&&(t+="<div data-status='0' class='open_close_secret_div_genplan_edit open_close_secret_div'>Дополнительные слои <span id='span_open_close_genplan_edit' > &#9660</span></div><div style='display:none' id='secret_div_genplan_edit'>"),d)if(0!=l&&""!=d[l].layer_name){for(var e in t+='<input type="checkbox" class="checkbox_geotiff_genplan_edit" data-layer_name="'+d[l].layer_name+'" id="checkbox_geotiff_edit_'+d[l].layer_name+'" data-layer_id="'+d[l].zindex+'" />',t+="<label for='checkbox_geotiff_edit_"+d[l].layer_name+"' >"+d[l].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_genplan_edit' data-layer_id='"+d[l].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[l].data)t+='<li data-magnify="gallery" data-caption="'+d[l].data[e].nomi+'"  href="'+d[l].data[e].file_name+'">'+d[l].data[e].nomi+"</li>";t+="</ul>"}for(var l in t+="</div>","genplan"==n.service&&"2"==n.status&&(1==a.status&&(t+="<button class='btn mybtn btn-success button_save_new_genplan' data-confirm='1' data-genplan_id='"+a.id+"'>Saqlashni tasqiqlash</button>",t+="<button class='btn mybtn btn-warning button_save_new_genplan' data-confirm='0' data-genplan_id='"+a.id+"'>Saqlashni rad etish</button>"),2==a.status&&(t+="<button class='btn mybtn btn-success button_save_edit_genplan' data-confirm='1' data-genplan_id='"+a.id+"'>O'zgarishni tasqiqlash</button>",t+="<button class='btn mybtn btn-warning button_save_edit_genplan' data-confirm='0' data-genplan_id='"+a.id+"'>O'zgarishni rad etish</button>"),3==a.status&&(t+="<button class='btn mybtn btn-danger button_delete_genplan_admin' data-confirm='1' data-genplan_id='"+a.id+"'>O'chirishni tasqiqlash</button>",t+="<button class='btn mybtn btn-warning button_delete_genplan_admin' data-confirm='0' data-genplan_id='"+a.id+"'>O'chirishni rad etish</button>")),"genplan"==n.service&&"1"==n.status&&(3==a.status?t+="<p class='p_dialog_alert' >O'chirishga berilgan</p>":t+="<button class='btn mybtn btn-info button_edit_genplan' data-status='"+a.status+"' data-genplan_id='"+a.id+"'>O'zgartirish</button>"),t+="<hr class='hr_popup' /><br>",t+='<table class = "table table-bordered table-striped"  style = "font-size:15px; overflow-x: hidden !important;" >  <tbody>    <tr><td>Aholi punktining nomi</td><td>'+a.aholi_punktining_nomi+"</td></tr>    <tr><td>Respublika, viloyat</td><td>"+viloyat[parseInt(a.respublika_viloyat)-1].disUz+"</td></tr>    <tr><td>Tuman shahar</td><td>"+a.tuman_shahar+"</td></tr>    <tr><td>Mamuriy hududiy birliklarni belgilash tizimi kodi</td><td>"+a.mamuriy_hududiy_birliklarni_belgilash_tizimi_kodi+"</td></tr>    <tr><td>Aholi punktining tipi</td><td>"+a.aholi_punktining_tipi+"</td></tr>     <tr><td>Aholi punktining maqomi</td><td>"+a.aholi_punktining_maqomi+"</td></tr>     <tr><td>Loyihalash tashkiloti shahar chegarasi loyihasini ishlab chiquv</td><td>"+a.loyihalash_tashkiloti_shahar_chegarasi_loyihasini_ishlab_chiquv+"</td></tr>     <tr><td>Ishlab chiqalgan yili</td><td>"+a.ishlab_chiqalgan_yili+"</td></tr>     <tr><td>Shahar chegarasi loyihasi hujjatlari saqlandigan joy</td><td>"+a.shahar_chegarasi_loyihasi_hujjatlari_saqlandigan_joy+"</td></tr>","1"==a.tasdiqlanganligi&&(t+="<tr><td>Shahar chegarasi loyihasini tasdiqlangan organ</td><td>"+a.shahar_chegarasi_loyihasini_tasdiqlangan_organ+"</td></tr>      <tr><td>Shahar chegarasi loyiha tasdiqlash tugrisidagi hujjat raqam san</td><td>"+a.shahar_chegarasi_loyiha_tasdiqlash_tugrisidagi_hujjat_raqam_san+"</td></tr>"),t+="<tr><td>Aholi punktining loyihaviy maydoni ga</td><td>"+a.aholi_punktining_loyihaviy_maydoni_ga+"</td></tr>     <tr><td>Aholining loyihaviy soni</td><td>"+a.aholining_loyihaviy_soni+"</td></tr>",d)""!=d[l].pdf&&(t+="<tr><td>"+d[l].sub_name+'</td><td><a class="button_pdf_viewer" data-filename="'+myencode(d[l].pdf)+'" >Открыть PDF</a></td></tr>');""!=a.grafik_malumot&&(t+="<tr><td>Grafik ma'lumotlar</td><td><p  data-filename='"+myencode(a.grafik_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),""!=a.izohlovchi_malumot&&(t+="<tr><td>Izohlovchi ma'lumot</td><td><p  data-filename='"+myencode(a.izohlovchi_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),t+="</tbody></table>",$("#popup_dialog_genplan_edit").html(t),$("#popup_dialog_genplan_edit").dialog("open"),document.getElementById("popup_dialog_genplan_edit").scrollTop=0},error:function(){console.log("Ajaxda xatolik")}})}function create_popup_pdp(a){var t="",i=new FormData;i.append("csrfmiddlewaretoken",document.getElementsByName("csrfmiddlewaretoken")[0].value),i.append("id",a.id),i.append("status",a.status),i.append("type","orginal"),$.ajax({url:"/pdp_dialog_view",data:i,cache:!1,contentType:!1,processData:!1,type:"post",success:function(i){var d=i[0].json,n=i[0].sessia;if(-1!=n.status){if(0!=d.length&&""!=d[0].layer_name){map.removeLayer(pdp);for(var e=0;e<50;e++)map.hasLayer(pdp_geotiff[e])&&map.removeLayer(pdp_geotiff[e]);for(var e in pdp_geotiff[d[0].zindex]=L.tileLayer.wms("/geocache",{opacity:.9,layers:"dshk:"+d[0].layer_name,format:"image/png",zIndex:d[0].zindex,maxZoom:20,transparent:!0}).addTo(map),t+='<input type="checkbox" class="checkbox_geotiff_pdp" data-layer_name="'+d[0].layer_name+'" checked id="checkbox_geotiff_'+d[0].layer_name+'" data-layer_id="'+d[0].zindex+'" />',t+="<label for='checkbox_geotiff_"+d[0].layer_name+"' >"+d[0].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_pdp' data-layer_id='"+d[0].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[0].data)t+='<li data-magnify="gallery" data-caption="'+d[0].data[e].nomi+'"  href="'+d[0].data[e].file_name+'">'+d[0].data[e].nomi+"</li>";t+="</ul>"}else t+="<input type='range' min=0 max=10 value=8 class='change_opacity_pdp'><br>";e=0;for(var l in d)""!=d[l].layer_name&&0!=l&&e++;for(var l in e>0&&(t+="<div data-status='0' class='open_close_secret_div_pdp open_close_secret_div'>Дополнительные слои <span id='span_open_close_pdp' > &#9660</span></div><div style='display:none' id='secret_div_pdp'>"),d)if(0!=l&&""!=d[l].layer_name){for(var e in t+='<input type="checkbox" class="checkbox_geotiff_pdp" data-layer_name="'+d[l].layer_name+'" id="checkbox_geotiff_'+d[l].layer_name+'" data-layer_id="'+d[l].zindex+'" />',t+="<label for='checkbox_geotiff_"+d[l].layer_name+"' >"+d[l].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_pdp' data-layer_id='"+d[l].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[l].data)t+='<li data-magnify="gallery" data-caption="'+d[l].data[e].nomi+'"  href="'+d[l].data[e].file_name+'">'+d[l].data[e].nomi+"</li>";t+="</ul>"}for(var l in t+="</div>","pdp"==n.service&&"1"==n.status&&("0"==a.status&&(t+="<button class='btn mybtn btn-info button_edit_pdp' data-status='"+a.status+"' data-pdp_id='"+a.id+"'>O'zgartirish</button>",t+="<button class='btn mybtn btn-danger button_delete_pdp' data-status='"+a.status+"' data-pdp_id='"+a.id+"'>O'chirish</button>"),"2"==a.status&&(t+="<button class='btn mybtn btn-info button_edit_pdp' data-status='"+a.status+"' data-pdp_id='"+a.id+"'>O'zgartirish</button>"),"3"==a.status&&(t+="<p class='p_dialog_alert' >O'chirishga berilgan</p>")),t+="<hr class='hr_popup' /><br>",t+='<table class = "table table-bordered table-striped"  style = "font-size:15px; overflow-x: hidden !important;" >  <tbody>    <tr><td>Aholi punktining nomi</td><td>'+a.aholi_punktining_nomi+"</td></tr>         <tr><td>Respublika, viloyat</td><td>"+viloyat[parseInt(a.respublika_viloyat)-1].disUz+"</td></tr>    <tr><td>Tuman shahar</td><td>"+a.tuman_shahar+"</td></tr>    <tr><td>Mamuriy hududiy birliklarni belgilash tizimi kodi</td><td>"+a.mamuriy_hududiy_birliklarni_belgilash_tizimi_kodi+"</td></tr>    <tr><td>Aholi punktining tipi</td><td>"+a.aholi_punktining_tipi+"</td></tr>     <tr><td>Aholi punktining maqomi</td><td>"+a.aholi_punktining_maqomi+"</td></tr>     <tr><td>Loyihalash tashkiloti shahar chegarasi loyihasini ishlab chiquv</td><td>"+a.loyihalash_tashkiloti_shahar_chegarasi_loyihasini_ishlab_chiquv+"</td></tr>     <tr><td>Ishlab chiqalgan yili</td><td>"+a.ishlab_chiqalgan_yili+"</td></tr>     <tr><td>Shahar chegarasi loyihasi hujjatlari saqlandigan joy</td><td>"+a.shahar_chegarasi_loyihasi_hujjatlari_saqlandigan_joy+"</td></tr>","1"==a.tasdiqlanganligi&&(t+="<tr><td>Shahar chegarasi loyihasini tasdiqlangan organ</td><td>"+a.shahar_chegarasi_loyihasini_tasdiqlangan_organ+"</td></tr>      <tr><td>Shahar chegarasi loyiha tasdiqlash tugrisidagi hujjat raqam san</td><td>"+a.shahar_chegarasi_loyiha_tasdiqlash_tugrisidagi_hujjat_raqam_san+"</td></tr>"),t+="<tr><td>Aholi punktining loyihaviy maydoni ga</td><td>"+a.aholi_punktining_loyihaviy_maydoni_ga+"</td></tr>     <tr><td>Aholining loyihaviy soni</td><td>"+a.aholining_loyihaviy_soni+"</td></tr>",d)""!=d[l].pdf&&(t+="<tr><td>"+d[l].sub_name+'</td><td><a class="button_pdf_viewer" data-filename="'+myencode(d[l].pdf)+'" >Открыть PDF</a></td></tr>');"-1"!=n.status&&(""!=a.grafik_malumot&&(t+="<tr><td>Grafik ma'lumotlar</td><td><p  data-filename='"+myencode(a.grafik_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),""!=a.izohlovchi_malumot&&(t+="<tr><td>Izohlovchi ma'lumot</td><td><p  data-filename='"+myencode(a.izohlovchi_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>")),t+="</tbody></table>",$("#popup_dialog_pdp").html(t),$("#popup_dialog_pdp").dialog("open"),document.getElementById("popup_dialog_pdp").scrollTop=0}},error:function(){console.log("Ajaxda xatolik")}})}function create_popup_pdp_edit(a){var t="",i=new FormData;i.append("csrfmiddlewaretoken",document.getElementsByName("csrfmiddlewaretoken")[0].value),i.append("id",a.id),i.append("type","edit"),i.append("status",a.status),$.ajax({url:"/pdp_dialog_view",data:i,cache:!1,contentType:!1,processData:!1,type:"post",success:function(i){var d=i[0].json,n=i[0].sessia;if(0!=d.length&&""!=d[0].layer_name){map.removeLayer(pdp_edit);for(var e=0;e<50;e++)map.hasLayer(pdp_edit_geotiff[e])&&map.removeLayer(pdp_edit_geotiff[e]);for(var e in pdp_edit_geotiff[d[0].zindex]=L.tileLayer.wms("/geocache",{opacity:.9,layers:"dshk:"+d[0].layer_name,format:"image/png",zIndex:d[0].zindex,maxZoom:20,transparent:!0}).addTo(map),t+='<input type="checkbox" class="checkbox_geotiff_pdp_edit" data-layer_name="'+d[0].layer_name+'" checked id="checkbox_geotiff_edit_'+d[0].layer_name+'" data-layer_id="'+d[0].zindex+'" />',t+="<label for='checkbox_geotiff_edit_"+d[0].layer_name+"' >"+d[0].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_pdp_edit' data-layer_id='"+d[0].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[0].data)t+='<li data-magnify="gallery" data-caption="'+d[0].data[e].nomi+'"  href="'+d[0].data[e].file_name+'">'+d[0].data[e].nomi+"</li>";t+="</ul>"}else t+="<input type='range' min=0 max=10 value=8 class='change_opacity_pdp_edit'><br>";e=0;for(var l in d)""!=d[l].layer_name&&0!=l&&e++;for(var l in e>0&&(t+="<div data-status='0' class='open_close_secret_div_pdp_edit open_close_secret_div'>Дополнительные слои <span id='span_open_close_pdp_edit' > &#9660</span></div><div style='display:none' id='secret_div_pdp_edit'>"),d)if(0!=l&&""!=d[l].layer_name){for(var e in t+='<input type="checkbox" class="checkbox_geotiff_pdp_edit" data-layer_name="'+d[l].layer_name+'" id="checkbox_geotiff_edit_'+d[l].layer_name+'" data-layer_id="'+d[l].zindex+'" />',t+="<label for='checkbox_geotiff_edit_"+d[l].layer_name+"' >"+d[l].sub_name+"</label><br>",t+="<input type='range' min=0 max=10 value=9 class='change_opacity_geotiff_pdp_edit' data-layer_id='"+d[l].zindex+"'><br>",t+="<ul class='click_modal_ul'>",d[l].data)t+='<li data-magnify="gallery" data-caption="'+d[l].data[e].nomi+'"  href="'+d[l].data[e].file_name+'">'+d[l].data[e].nomi+"</li>";t+="</ul>"}for(var l in t+="</div>","pdp"==n.service&&"2"==n.status&&(1==a.status&&(t+="<button class='btn mybtn btn-success button_save_new_pdp' data-confirm='1' data-pdp_id='"+a.id+"'>Saqlashni tasqiqlash</button>",t+="<button class='btn mybtn btn-warning button_save_new_pdp' data-confirm='0' data-pdp_id='"+a.id+"'>Saqlashni rad etish</button>"),2==a.status&&(t+="<button class='btn mybtn btn-success button_save_edit_pdp' data-confirm='1' data-pdp_id='"+a.id+"'>O'zgarishni tasqiqlash</button>",t+="<button class='btn mybtn btn-warning button_save_edit_pdp' data-confirm='0' data-pdp_id='"+a.id+"'>O'zgarishni rad etish</button>"),3==a.status&&(t+="<button class='btn mybtn btn-danger button_delete_pdp_admin' data-confirm='1' data-pdp_id='"+a.id+"'>O'chirishni tasqiqlash</button>",t+="<button class='btn mybtn btn-warning button_delete_pdp_admin' data-confirm='0' data-pdp_id='"+a.id+"'>O'chirishni rad etish</button>")),"pdp"==n.service&&"1"==n.status&&(3==a.status?t+="<p class='p_dialog_alert' >O'chirishga berilgan</p>":t+="<button class='btn mybtn btn-info button_edit_pdp' data-status='"+a.status+"' data-pdp_id='"+a.id+"'>O'zgartirish</button>"),t+="<hr class='hr_popup' /><br>",t+='<table class = "table table-bordered table-striped"  style = "font-size:15px; overflow-x: hidden !important;" >  <tbody>    <tr><td>Aholi punktining nomi</td><td>'+a.aholi_punktining_nomi+"</td></tr>    <tr><td>Respublika, viloyat</td><td>"+viloyat[parseInt(a.respublika_viloyat)-1].disUz+"</td></tr>    <tr><td>Tuman shahar</td><td>"+a.tuman_shahar+"</td></tr>    <tr><td>Mamuriy hududiy birliklarni belgilash tizimi kodi</td><td>"+a.mamuriy_hududiy_birliklarni_belgilash_tizimi_kodi+"</td></tr>    <tr><td>Aholi punktining tipi</td><td>"+a.aholi_punktining_tipi+"</td></tr>     <tr><td>Aholi punktining maqomi</td><td>"+a.aholi_punktining_maqomi+"</td></tr>     <tr><td>Loyihalash tashkiloti shahar chegarasi loyihasini ishlab chiquv</td><td>"+a.loyihalash_tashkiloti_shahar_chegarasi_loyihasini_ishlab_chiquv+"</td></tr>     <tr><td>Ishlab chiqalgan yili</td><td>"+a.ishlab_chiqalgan_yili+"</td></tr>     <tr><td>Shahar chegarasi loyihasi hujjatlari saqlandigan joy</td><td>"+a.shahar_chegarasi_loyihasi_hujjatlari_saqlandigan_joy+"</td></tr>","1"==a.tasdiqlanganligi&&(t+="<tr><td>Shahar chegarasi loyihasini tasdiqlangan organ</td><td>"+a.shahar_chegarasi_loyihasini_tasdiqlangan_organ+"</td></tr>      <tr><td>Shahar chegarasi loyiha tasdiqlash tugrisidagi hujjat raqam san</td><td>"+a.shahar_chegarasi_loyiha_tasdiqlash_tugrisidagi_hujjat_raqam_san+"</td></tr>"),t+="<tr><td>Aholi punktining loyihaviy maydoni ga</td><td>"+a.aholi_punktining_loyihaviy_maydoni_ga+"</td></tr>     <tr><td>Aholining loyihaviy soni</td><td>"+a.aholining_loyihaviy_soni+"</td></tr>",d)""!=d[l].pdf&&(t+="<tr><td>"+d[l].sub_name+'</td><td><a class="button_pdf_viewer" data-filename="'+myencode(d[l].pdf)+'" >Открыть PDF</a></td></tr>');""!=a.grafik_malumot&&(t+="<tr><td>Grafik ma'lumotlar</td><td><p  data-filename='"+myencode(a.grafik_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),""!=a.izohlovchi_malumot&&(t+="<tr><td>Izohlovchi ma'lumot</td><td><p  data-filename='"+myencode(a.izohlovchi_malumot)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),t+="</tbody></table>",$("#popup_dialog_pdp_edit").html(t),$("#popup_dialog_pdp_edit").dialog("open"),document.getElementById("popup_dialog_pdp_edit").scrollTop=0},error:function(){console.log("Ajaxda xatolik")}})}function create_popup_apot(a){var t=new FormData;t.append("csrfmiddlewaretoken",document.getElementsByName("csrfmiddlewaretoken")[0].value),t.append("id",a.id),t.append("type","orginal"),t.append("status",a.status),$.ajax({url:"/apot_dialog_view",data:t,cache:!1,contentType:!1,processData:!1,type:"post",success:function(t){var i,d=JSON.parse(t[0].data),n=t[0].sessia;for(var e in i="<p>Karta ko'rinish holatini sozlash </p><input type='range' min=0 max=10 value=8  class='change_opacity_apot' ><br>","apot"==n.service&&"1"==n.status&&("0"==a.status&&(i+="<button class='btn mybtn btn-info button_edit_apot' data-status='"+a.status+"' data-apot_id='"+a.id+"'>O'zgartirish</button>",i+="<button class='btn mybtn btn-danger button_delete_apot' data-status='"+a.status+"' data-apot_id='"+a.id+"'>O'chirish</button>"),"2"==a.status&&(i+="<button class='btn mybtn btn-info button_edit_apot' data-status='"+a.status+"' data-apot_id='"+a.id+"'>O'zgartirish</button>"),"3"==a.status&&(i+="<p class='p_dialog_alert' >O'chirishga berilgan</p>")),i+="<hr class='hr_popup' /><br>",i+="<table class = 'table table-bordered table-striped'  style = 'font-size:15px; overflow-x: hidden !important;' >  <tbody>      <tr><td>Qishloq fuqarolar yig'ini nomi</td><td>"+a.fuqarolar_yiginlari+"</td></tr>      <tr><td>Respublika, viloyat</td><td>"+viloyat[parseInt(a.respublika_viloyat)-1].disUz+"</td></tr>    <tr><td>Tuman, shahar</td><td>"+a.tuman_shahar+"</td></tr>    <tr><td>Mamuriy hududiy birliklarni  belgilash tizimi kodi</td><td>"+a.mamuriy_hududiy_birliklarni_belgilash_tizimi_kodi+"</td></tr>    <tr><td>Aholi punktining tipi</td><td>"+a.aholi_punktining_tipi+"</td></tr>     <tr><td>Aholi punktining maqomi</td><td>"+a.aholi_punktining_maqomi+"</td></tr>     <tr><td>Loyihalash tashkiloti</td><td>"+a.loyihalash_tashkiloti_shahar_chegarasi_loyihasini_ishlab_chiquv+"</td></tr>     <tr><td>Shahar chegarasi loyihasi hujjatlari saqlandigan joy</td><td>"+a.shahar_chegarasi_loyihasi_hujjatlari_saqlandigan_joy+"</td></tr>","1"==a.tasdiqlanganligi&&(i+="<tr><td>Shahar chegarasi loyihasini tasdiqlangan organ</td><td>"+a.shahar_chegarasi_loyihasini_tasdiqlangan_organ+"</td></tr>     <tr><td>Shahar chegarasi loyiha tasdiqlash tugrisidagi hujjat raqami va sanasi</td><td>"+a.shahar_chegarasi_loyiha_tasdiqlash_tugrisidagi_hujjat_raqam_san+"</td></tr>"),i+="<tr><td>Aholi punktining loyihaviy maydoni (ga)</td><td>"+a.aholi_punktining_loyihaviy_maydoni_ga+"</td></tr>      <tr><td>Aholining loyihaviy soni</td><td>"+a.aholining_loyihaviy_soni+"</td></tr>      <tr><td>QFY markazi</td><td>"+a.kfi_markazi+"</td></tr>      <tr><td>Bo'ysinuvchi aholi punktlari soni</td><td>"+a.boysinuvchi_aholi_punktlari_soni+"</td></tr>      <tr><td>Ishlab chiqalgan yili</td><td>"+a.ishlab_chiqalgan_yili+"</td></tr>      <tr><td>Ishlab_ chiqarish asosi</td><td>"+a.ishlab_chiqarish_asosi+"</td></tr>     <tr><td>Shaharsozlik kengashi qarori</td><td>"+a.shaharsozlik_kengashi_qarori+"</td></tr>     <tr><td>Aholi soni tip</td><td>"+a.aholi_soni_tip+"</td></tr>",d)"1"==d[e].fields.sub_apot_id.file_type&&(i+="<tr><td>"+d[e].fields.sub_apot_id.nomi+"</td><td><p  data-filename='"+myencode(d[e].fields.file)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),"2"==d[e].fields.sub_apot_id.file_type&&("pdf"==d[e].fields.file.split(".")[d[e].fields.file.split(".").length-1]||"PDF"==d[e].fields.file.split(".")[d[e].fields.file.split(".").length-1]?i+="<tr><td>"+d[e].fields.sub_apot_id.nomi+'</td><td><a class="button_pdf_viewer" data-filename="'+myencode(d[e].fields.file)+'" >Открыть PDF</a></td></tr>':i+="<tr><td>"+d[e].fields.sub_apot_id.nomi+"</td><td><p data-filename='"+myencode(d[e].fields.file)+"' data-caption='"+d[e].fields.sub_apot_id.nomi+"' class='sub_data_link' >Ko'rish</p></td></tr>");i+="</tbody></table>",$("#popup_dialog_apot").html(i),$("#popup_dialog_apot").dialog("open"),document.getElementById("popup_dialog_apot").scrollTop=0},error:function(){console.log("Ajaxda xatolik")}})}function create_popup_apot_edit(a){var t=new FormData;t.append("csrfmiddlewaretoken",document.getElementsByName("csrfmiddlewaretoken")[0].value),t.append("id",a.id),t.append("status",a.status),t.append("type","edit"),$.ajax({url:"/apot_dialog_view",data:t,cache:!1,contentType:!1,processData:!1,type:"post",success:function(t){var i,d=JSON.parse(t[0].data),n=t[0].sessia;for(var e in i="<p>Karta ko'rinish holatini sozlash </p><input type='range' min=0 max=10 value=8  class='change_opacity_apot_edit' ><br>","apot"==n.service&&"2"==n.status&&(1==a.status&&(i+="<button class='btn mybtn btn-success button_save_new_apot' data-confirm='1' data-apot_id='"+a.id+"'>Saqlashni tasqiqlash</button>",i+="<button class='btn mybtn btn-warning button_save_new_apot' data-confirm='0' data-apot_id='"+a.id+"'>Saqlashni rad etish</button>"),2==a.status&&(i+="<button class='btn mybtn btn-success button_save_edit_apot' data-confirm='1' data-apot_id='"+a.id+"'>O'zgarishni tasqiqlash</button>",i+="<button class='btn mybtn btn-warning button_save_edit_apot' data-confirm='0' data-apot_id='"+a.id+"'>O'zgarishni rad etish</button>"),3==a.status&&(i+="<button class='btn mybtn btn-danger button_delete_apot_admin' data-confirm='1' data-apot_id='"+a.id+"'>O'chirishni tasqiqlash</button>",i+="<button class='btn mybtn btn-warning button_delete_apot_admin' data-confirm='0' data-apot_id='"+a.id+"'>O'chirishni rad etish</button>")),"apot"==n.service&&"1"==n.status&&(3==a.status?i+="<p class='p_dialog_alert' >O'chirishga berilgan</p>":i+="<button class='btn mybtn btn-info button_edit_apot' data-status='"+a.status+"' data-apot_id='"+a.id+"'>O'zgartirish</button>"),i+="<hr class='hr_popup' /><br>",i+="<table class = 'table table-bordered table-striped'  style = 'font-size:15px; overflow-x: hidden !important;' >  <tbody>      <tr><td>Qishloq fuqarolar yig'ini nomi</td><td>"+a.fuqarolar_yiginlari+"</td></tr>      <tr><td>Respublika, viloyat</td><td>"+viloyat[parseInt(a.respublika_viloyat)-1].disUz+"</td></tr>     <tr><td>Tuman, shahar</td><td>"+a.tuman_shahar+"</td></tr>     <tr><td>Mamuriy hududiy birliklarni  belgilash tizimi kodi</td><td>"+a.mamuriy_hududiy_birliklarni_belgilash_tizimi_kodi+"</td></tr>     <tr><td>Aholi punktining tipi</td><td>"+a.aholi_punktining_tipi+"</td></tr>     <tr><td>Aholi punktining maqomi</td><td>"+a.aholi_punktining_maqomi+"</td></tr>     <tr><td>Loyihalash tashkiloti</td><td>"+a.loyihalash_tashkiloti_shahar_chegarasi_loyihasini_ishlab_chiquv+"</td></tr>     <tr><td>Shahar chegarasi loyihasi hujjatlari saqlandigan joy</td><td>"+a.shahar_chegarasi_loyihasi_hujjatlari_saqlandigan_joy+"</td></tr>","1"==a.tasdiqlanganligi&&(i+="<tr><td>Shahar chegarasi loyihasini tasdiqlangan organ</td><td>"+a.shahar_chegarasi_loyihasini_tasdiqlangan_organ+"</td></tr>     <tr><td>Shahar chegarasi loyiha tasdiqlash tugrisidagi hujjat raqami va sanasi</td><td>"+a.shahar_chegarasi_loyiha_tasdiqlash_tugrisidagi_hujjat_raqam_san+"</td></tr>"),i+="<tr><td>Aholi punktining loyihaviy maydoni (ga)</td><td>"+a.aholi_punktining_loyihaviy_maydoni_ga+"</td></tr>      <tr><td>Aholining loyihaviy soni</td><td>"+a.aholining_loyihaviy_soni+"</td></tr>      <tr><td>QFY markazi</td><td>"+a.kfi_markazi+"</td></tr>      <tr><td>Bo'ysinuvchi aholi punktlari soni</td><td>"+a.boysinuvchi_aholi_punktlari_soni+"</td></tr>      <tr><td>Ishlab chiqalgan yili</td><td>"+a.ishlab_chiqalgan_yili+"</td></tr>      <tr><td>Ishlab_ chiqarish asosi</td><td>"+a.ishlab_chiqarish_asosi+"</td></tr>     <tr><td>Shaharsozlik kengashi qarori</td><td>"+a.shaharsozlik_kengashi_qarori+"</td></tr>     <tr><td>Aholi soni tip</td><td>"+a.aholi_soni_tip+"</td></tr>",d)"1"==d[e].fields.sub_apot_id.file_type&&(i+="<tr><td>"+d[e].fields.sub_apot_id.nomi+"</td><td><p  data-filename='"+myencode(d[e].fields.file)+"' class='tag_download_sec' >Yuklab olish</p></td></tr>"),"2"==d[e].fields.sub_apot_id.file_type&&("pdf"==d[e].fields.file.split(".")[d[e].fields.file.split(".").length-1]||"PDF"==d[e].fields.file.split(".")[d[e].fields.file.split(".").length-1]?i+="<tr><td>"+d[e].fields.sub_apot_id.nomi+'</td><td><a class="button_pdf_viewer" data-filename="'+myencode(d[e].fields.file)+'" >Открыть PDF</a></td></tr>':i+="<tr><td>"+d[e].fields.sub_apot_id.nomi+"</td><td><p data-filename='"+myencode(d[e].fields.file)+"' data-caption='"+d[e].fields.sub_apot_id.nomi+"' class='sub_data_link' >Ko'rish</p></td></tr>");i+="</tbody></table>",$("#popup_dialog_apot_edit").html(i),$("#popup_dialog_apot_edit").dialog("open"),document.getElementById("popup_dialog_apot_edit").scrollTop=0},error:function(){console.log("Ajaxda xatolik")}})}